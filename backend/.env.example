# Integraite Backend Environment Configuration
# Copy this file to .env and update with your actual values

# Basic App Configuration
APP_NAME="Integraite API"
VERSION="1.0.0"
ENVIRONMENT="development"
DEBUG=true

# Database
DATABASE_URL="sqlite:///./integraite.db"

# Security
SECRET_KEY="your-secret-key-here-change-in-production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ServiceNow Integration (Required for SRE Agent)
SERVICENOW_INSTANCE_URL="https://your-instance.service-now.com"
SERVICENOW_USERNAME="your-servicenow-username"
SERVICENOW_PASSWORD="your-servicenow-password"
SERVICENOW_TABLE="incident"

# AI/LLM APIs (Required for SRE Agent)
OPENAI_API_KEY="your-openai-api-key-here"

# SSH Configuration for SRE Agent
# Path to SSH private key file (e.g., /path/to/your/sre-agent-key)
SSH_PRIVATE_KEY_PATH="/etc/sre-agent/keys/sre-agent-key"
# SSH username for connecting to target systems
SSH_USERNAME="sre-agent"
# SSH port (default: 22)
SSH_PORT=22
# SSH connection timeout in seconds
SSH_TIMEOUT=30

# Safety Configuration
# Set to 'true' to enable real SSH command execution (USE WITH CAUTION)
# Default is 'false' for safety - commands will be simulated
ENABLE_REAL_SSH=false

# Redis
REDIS_URL="redis://localhost:6379"

# External APIs (Optional)
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""
SENDGRID_API_KEY=""

# OAuth (Optional)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
MICROSOFT_CLIENT_ID=""
MICROSOFT_CLIENT_SECRET=""

# File uploads
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR="uploads"

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# Multi-tenancy
DEFAULT_ORGANIZATION_PLAN="free"
MAX_AGENTS_FREE_PLAN=5
MAX_AGENTS_TEAM_PLAN=50

# CORS Origins (comma-separated)
CORS_ORIGINS="http://localhost:3000,http://localhost:5173,https://integraite.pro"

# SSH Key Setup Instructions:
# 1. Generate SSH key pair:
#    ssh-keygen -t rsa -b 4096 -f /etc/sre-agent/keys/sre-agent-key -N ""
#
# 2. Add public key to target servers:
#    ssh-copy-id -i /etc/sre-agent/keys/sre-agent-key.pub sre-agent@target-server
#
# 3. Set proper permissions:
#    chmod 600 /etc/sre-agent/keys/sre-agent-key
#    chmod 644 /etc/sre-agent/keys/sre-agent-key.pub
#
# 4. Update SSH_PRIVATE_KEY_PATH above to point to your key file
#
# 5. Create 'sre-agent' user on target servers with appropriate sudo permissions